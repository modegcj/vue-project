<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <title>Promise</title>
    </head>
    <body>
        
    </body>
    <script>
        // let p1 = new Promise(function(resolve){
        //     setTimeout(function(){
        //         resolve("promise1")
        //     },3000)
        // })
        // let p2 = new Promise(function(resolve){
        //     resolve("promise2");
        // })
        // p2.then(function(data){
        //     return p1;
        // }).then(function(data){
        //     console.log(data);
        // })
        let p1 = new Promise(function(resolve,reject){
            setTimeout(function(){
                reject(new Error("time out"))
            },1000)
        });
        let p2 = new Promise(function(resolve,reject){
            // 模拟耗时操作
            setTimeout(function(){
                resolve("get result")
            },2000)
        })
        let p = Promise.race([p1,p2]);
        p.then(function(err){
            console.log(data)
        }).catch(function(err){
            console.log(err);
        })
    </script>
</html>